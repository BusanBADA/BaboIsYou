<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SNAKE ENGINE: StateManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">SNAKE ENGINE
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('class_state_manager.html','','class_state_manager-members'); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">StateManager Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Manages game states and their transitions.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_state_manager_8h_source.html">StateManager.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aeb24049cbe185fe0faec5c771e34c2bb" id="r_aeb24049cbe185fe0faec5c771e34c2bb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_game_state.html">GameState</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeb24049cbe185fe0faec5c771e34c2bb">GetCurrentState</a> () const</td></tr>
<tr class="memdesc:aeb24049cbe185fe0faec5c771e34c2bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the currently active <a class="el" href="class_game_state.html" title="Abstract base class representing a game state in the engine.">GameState</a>.  <br /></td></tr>
<tr class="memitem:a5337ecd1c035794817b1de05f961d352" id="r_a5337ecd1c035794817b1de05f961d352"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5337ecd1c035794817b1de05f961d352">ChangeState</a> (std::unique_ptr&lt; <a class="el" href="class_game_state.html">GameState</a> &gt; newState)</td></tr>
<tr class="memdesc:a5337ecd1c035794817b1de05f961d352"><td class="mdescLeft">&#160;</td><td class="mdescRight">Requests a change to a new <a class="el" href="class_game_state.html" title="Abstract base class representing a game state in the engine.">GameState</a>.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pri-methods" class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ab4ebd3189a4623e805d95f768b314acb" id="r_ab4ebd3189a4623e805d95f768b314acb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab4ebd3189a4623e805d95f768b314acb">Update</a> (float dt, const <a class="el" href="struct_engine_context.html">EngineContext</a> &amp;engineContext)</td></tr>
<tr class="memdesc:ab4ebd3189a4623e805d95f768b314acb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the currently active <a class="el" href="class_game_state.html" title="Abstract base class representing a game state in the engine.">GameState</a> and handles pending transitions.  <br /></td></tr>
<tr class="memitem:ae161e57265af366c58b0e2b5d936553d" id="r_ae161e57265af366c58b0e2b5d936553d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae161e57265af366c58b0e2b5d936553d">Draw</a> (const <a class="el" href="struct_engine_context.html">EngineContext</a> &amp;engineContext)</td></tr>
<tr class="memdesc:ae161e57265af366c58b0e2b5d936553d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Renders the current <a class="el" href="class_game_state.html" title="Abstract base class representing a game state in the engine.">GameState</a>.  <br /></td></tr>
<tr class="memitem:aa8e5c183bf725b7132f7e4bc800deaab" id="r_aa8e5c183bf725b7132f7e4bc800deaab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa8e5c183bf725b7132f7e4bc800deaab">Free</a> (const <a class="el" href="struct_engine_context.html">EngineContext</a> &amp;engineContext)</td></tr>
<tr class="memdesc:aa8e5c183bf725b7132f7e4bc800deaab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees the resources of the currently active <a class="el" href="class_game_state.html" title="Abstract base class representing a game state in the engine.">GameState</a>.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pri-attribs" class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a2d51b51c9cf169dca9ae37291ad26a39" id="r_a2d51b51c9cf169dca9ae37291ad26a39"><td class="memItemLeft" align="right" valign="top">friend&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2d51b51c9cf169dca9ae37291ad26a39">SNAKE_Engine</a></td></tr>
<tr class="memitem:a23b9db8ba856509ed476ed1144247b83" id="r_a23b9db8ba856509ed476ed1144247b83"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="class_game_state.html">GameState</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a23b9db8ba856509ed476ed1144247b83">currentState</a></td></tr>
<tr class="memdesc:a23b9db8ba856509ed476ed1144247b83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Currently active game state.  <br /></td></tr>
<tr class="memitem:a598a8e8b997a38333b28dbbe9c87cfe6" id="r_a598a8e8b997a38333b28dbbe9c87cfe6"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="class_game_state.html">GameState</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a598a8e8b997a38333b28dbbe9c87cfe6">nextState</a></td></tr>
<tr class="memdesc:a598a8e8b997a38333b28dbbe9c87cfe6"><td class="mdescLeft">&#160;</td><td class="mdescRight">State scheduled to replace the current one.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Manages game states and their transitions. </p>
<p>The <a class="el" href="class_state_manager.html" title="Manages game states and their transitions.">StateManager</a> holds the currently active <a class="el" href="class_game_state.html" title="Abstract base class representing a game state in the engine.">GameState</a> and handles transitions to new states. It ensures proper unloading, freeing, and reinitialization of resources when switching between states. Internally, the manager defers state changes until the next update tick to avoid inconsistent state transitions.</p>
<p>Example usage in engine loop: </p><div class="fragment"><div class="line">stateManager.Update(dt, engineContext);</div>
<div class="line">stateManager.Draw(engineContext);</div>
</div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="_state_manager_8h_source.html#l00023">23</a> of file <a class="el" href="_state_manager_8h_source.html">StateManager.h</a>.</p>
</div><a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="a5337ecd1c035794817b1de05f961d352" name="a5337ecd1c035794817b1de05f961d352"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5337ecd1c035794817b1de05f961d352">&#9670;&#160;</a></span>ChangeState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StateManager::ChangeState </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="class_game_state.html">GameState</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>newState</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Requests a change to a new <a class="el" href="class_game_state.html" title="Abstract base class representing a game state in the engine.">GameState</a>. </p>
<p>The new state will not be activated immediately. Instead, it is stored in <span class="tt">nextState</span> and will be applied during the next <span class="tt"><a class="el" href="#ab4ebd3189a4623e805d95f768b314acb" title="Updates the currently active GameState and handles pending transitions.">Update()</a></span> call. This ensures a clean transition with proper resource unloading and loading.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">newState</td><td>Unique pointer to the new <a class="el" href="class_game_state.html" title="Abstract base class representing a game state in the engine.">GameState</a> to transition into. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The currently active state's <span class="tt">SystemFree</span> and <span class="tt">SystemUnload</span> will be called before the new state's <span class="tt">SystemLoad</span> and <span class="tt">SystemInit</span> are invoked. <div class="fragment"><div class="line">engineContext.stateManager-&gt;ChangeState(std::make_unique&lt;MyGameState&gt;());</div>
</div><!-- fragment --> </dd></dl>

<p class="definition">Definition at line <a class="el" href="_state_manager_8cpp_source.html#l00008">8</a> of file <a class="el" href="_state_manager_8cpp_source.html">StateManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">    9</span>{</div>
<div class="line"><span class="lineno">   10</span>    <a class="code hl_variable" href="#a598a8e8b997a38333b28dbbe9c87cfe6">nextState</a> = std::move(newState);</div>
<div class="line"><span class="lineno">   11</span>}</div>
<div class="ttc" id="aclass_state_manager_html_a598a8e8b997a38333b28dbbe9c87cfe6"><div class="ttname"><a href="#a598a8e8b997a38333b28dbbe9c87cfe6">StateManager::nextState</a></div><div class="ttdeci">std::unique_ptr&lt; GameState &gt; nextState</div><div class="ttdoc">State scheduled to replace the current one.</div><div class="ttdef"><b>Definition</b> <a href="_state_manager_8h_source.html#l00102">StateManager.h:102</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae161e57265af366c58b0e2b5d936553d" name="ae161e57265af366c58b0e2b5d936553d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae161e57265af366c58b0e2b5d936553d">&#9670;&#160;</a></span>Draw()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void StateManager::Draw </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_engine_context.html">EngineContext</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>engineContext</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Renders the current <a class="el" href="class_game_state.html" title="Abstract base class representing a game state in the engine.">GameState</a>. </p>
<p>This function calls:</p><ul>
<li><span class="tt"><a class="el" href="class_render_manager.html#a375da2d8afa977405cd3200f643b3e84" title="Begins a new frame: binds offscreen FBO (if enabled), clears, and prepares state.">RenderManager::BeginFrame</a></span></li>
<li>The current state's <span class="tt">Draw</span></li>
<li>Flushes draw commands (including optional debug draws)</li>
<li><span class="tt"><a class="el" href="class_render_manager.html#a61a2ee6952f8da0aee3ac21cd8033d0b" title="Ends the frame: resolves offscreen to screen and swaps buffers (via WindowManager).">RenderManager::EndFrame</a></span></li>
<li>Calls the current state's <span class="tt">PostProcessing</span></li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">engineContext</td><td>Reference to the engine context. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_state_manager_8cpp_source.html#l00034">34</a> of file <a class="el" href="_state_manager_8cpp_source.html">StateManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   35</span>{</div>
<div class="line"><span class="lineno">   36</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a23b9db8ba856509ed476ed1144247b83">currentState</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><span class="lineno">   37</span>    {</div>
<div class="line"><span class="lineno">   38</span>    engineContext.<a class="code hl_variable" href="struct_engine_context.html#a8f4c861adc4684975fa767ae4723e095">renderManager</a>-&gt;<a class="code hl_function" href="class_render_manager.html#a375da2d8afa977405cd3200f643b3e84">BeginFrame</a>(engineContext);</div>
<div class="line"><span class="lineno">   39</span> </div>
<div class="line"><span class="lineno">   40</span>    <a class="code hl_variable" href="#a23b9db8ba856509ed476ed1144247b83">currentState</a>-&gt;Draw(engineContext);</div>
<div class="line"><span class="lineno">   41</span>    engineContext.<a class="code hl_variable" href="struct_engine_context.html#a8f4c861adc4684975fa767ae4723e095">renderManager</a>-&gt;<a class="code hl_function" href="class_render_manager.html#a620231f7f4119dbf26ef416478578cde">FlushDrawCommands</a>(engineContext);</div>
<div class="line"><span class="lineno">   42</span>    <span class="keywordflow">if</span> (engineContext.<a class="code hl_variable" href="struct_engine_context.html#ad9836cdfc607ba27f100f5e0e892987f">engine</a>-&gt;<a class="code hl_function" href="class_s_n_a_k_e___engine.html#a54039eae5badaa378973ccbe973713ee">ShouldRenderDebugDraws</a>())</div>
<div class="line"><span class="lineno">   43</span>        engineContext.<a class="code hl_variable" href="struct_engine_context.html#a8f4c861adc4684975fa767ae4723e095">renderManager</a>-&gt;<a class="code hl_function" href="class_render_manager.html#a7c058729d4929a4295ebee1c6d324001">FlushDebugLineDrawCommands</a>(engineContext);</div>
<div class="line"><span class="lineno">   44</span> </div>
<div class="line"><span class="lineno">   45</span>    engineContext.<a class="code hl_variable" href="struct_engine_context.html#a8f4c861adc4684975fa767ae4723e095">renderManager</a>-&gt;<a class="code hl_function" href="class_render_manager.html#a61a2ee6952f8da0aee3ac21cd8033d0b">EndFrame</a>(engineContext);</div>
<div class="line"><span class="lineno">   46</span> </div>
<div class="line"><span class="lineno">   47</span>    <a class="code hl_variable" href="#a23b9db8ba856509ed476ed1144247b83">currentState</a>-&gt;PostProcessing(engineContext);</div>
<div class="line"><span class="lineno">   48</span>    engineContext.<a class="code hl_variable" href="struct_engine_context.html#a8f4c861adc4684975fa767ae4723e095">renderManager</a>-&gt;<a class="code hl_function" href="class_render_manager.html#a620231f7f4119dbf26ef416478578cde">FlushDrawCommands</a>(engineContext);</div>
<div class="line"><span class="lineno">   49</span>    }</div>
<div class="line"><span class="lineno">   50</span>}</div>
<div class="ttc" id="aclass_render_manager_html_a375da2d8afa977405cd3200f643b3e84"><div class="ttname"><a href="class_render_manager.html#a375da2d8afa977405cd3200f643b3e84">RenderManager::BeginFrame</a></div><div class="ttdeci">void BeginFrame(const EngineContext &amp;engineContext)</div><div class="ttdoc">Begins a new frame: binds offscreen FBO (if enabled), clears, and prepares state.</div><div class="ttdef"><b>Definition</b> <a href="_render_manager_8cpp_source.html#l00061">RenderManager.cpp:61</a></div></div>
<div class="ttc" id="aclass_render_manager_html_a61a2ee6952f8da0aee3ac21cd8033d0b"><div class="ttname"><a href="class_render_manager.html#a61a2ee6952f8da0aee3ac21cd8033d0b">RenderManager::EndFrame</a></div><div class="ttdeci">void EndFrame(const EngineContext &amp;engineContext)</div><div class="ttdoc">Ends the frame: resolves offscreen to screen and swaps buffers (via WindowManager).</div><div class="ttdef"><b>Definition</b> <a href="_render_manager_8cpp_source.html#l00081">RenderManager.cpp:81</a></div></div>
<div class="ttc" id="aclass_render_manager_html_a620231f7f4119dbf26ef416478578cde"><div class="ttname"><a href="class_render_manager.html#a620231f7f4119dbf26ef416478578cde">RenderManager::FlushDrawCommands</a></div><div class="ttdeci">void FlushDrawCommands(const EngineContext &amp;engineContext)</div><div class="ttdoc">Flushes all queued draw commands (render map + debug lines).</div><div class="ttdef"><b>Definition</b> <a href="_render_manager_8cpp_source.html#l00151">RenderManager.cpp:151</a></div></div>
<div class="ttc" id="aclass_render_manager_html_a7c058729d4929a4295ebee1c6d324001"><div class="ttname"><a href="class_render_manager.html#a7c058729d4929a4295ebee1c6d324001">RenderManager::FlushDebugLineDrawCommands</a></div><div class="ttdeci">void FlushDebugLineDrawCommands(const EngineContext &amp;engineContext)</div><div class="ttdoc">Flushes queued debug lines (batched by (camera*, width)) to GPU.</div><div class="ttdef"><b>Definition</b> <a href="_render_manager_8cpp_source.html#l00327">RenderManager.cpp:327</a></div></div>
<div class="ttc" id="aclass_s_n_a_k_e___engine_html_a54039eae5badaa378973ccbe973713ee"><div class="ttname"><a href="class_s_n_a_k_e___engine.html#a54039eae5badaa378973ccbe973713ee">SNAKE_Engine::ShouldRenderDebugDraws</a></div><div class="ttdeci">bool ShouldRenderDebugDraws() const</div><div class="ttdoc">Indicates whether debug rendering is enabled.</div><div class="ttdef"><b>Definition</b> <a href="_s_n_a_k_e___engine_8h_source.html#l00089">SNAKE_Engine.h:89</a></div></div>
<div class="ttc" id="aclass_state_manager_html_a23b9db8ba856509ed476ed1144247b83"><div class="ttname"><a href="#a23b9db8ba856509ed476ed1144247b83">StateManager::currentState</a></div><div class="ttdeci">std::unique_ptr&lt; GameState &gt; currentState</div><div class="ttdoc">Currently active game state.</div><div class="ttdef"><b>Definition</b> <a href="_state_manager_8h_source.html#l00101">StateManager.h:101</a></div></div>
<div class="ttc" id="astruct_engine_context_html_a8f4c861adc4684975fa767ae4723e095"><div class="ttname"><a href="struct_engine_context.html#a8f4c861adc4684975fa767ae4723e095">EngineContext::renderManager</a></div><div class="ttdeci">RenderManager * renderManager</div><div class="ttdoc">Pointer to the render manager for graphics and resources.</div><div class="ttdef"><b>Definition</b> <a href="_engine_context_8h_source.html#l00035">EngineContext.h:35</a></div></div>
<div class="ttc" id="astruct_engine_context_html_ad9836cdfc607ba27f100f5e0e892987f"><div class="ttname"><a href="struct_engine_context.html#ad9836cdfc607ba27f100f5e0e892987f">EngineContext::engine</a></div><div class="ttdeci">SNAKE_Engine * engine</div><div class="ttdoc">Back-reference to the main engine instance.</div><div class="ttdef"><b>Definition</b> <a href="_engine_context_8h_source.html#l00037">EngineContext.h:37</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa8e5c183bf725b7132f7e4bc800deaab" name="aa8e5c183bf725b7132f7e4bc800deaab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8e5c183bf725b7132f7e4bc800deaab">&#9670;&#160;</a></span>Free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void StateManager::Free </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_engine_context.html">EngineContext</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>engineContext</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Frees the resources of the currently active <a class="el" href="class_game_state.html" title="Abstract base class representing a game state in the engine.">GameState</a>. </p>
<p>Calls the state's <span class="tt">SystemFree</span> and <span class="tt">SystemUnload</span> methods before resetting the current state pointer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">engineContext</td><td>Reference to the engine context. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_state_manager_8cpp_source.html#l00052">52</a> of file <a class="el" href="_state_manager_8cpp_source.html">StateManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   53</span>{</div>
<div class="line"><span class="lineno">   54</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a23b9db8ba856509ed476ed1144247b83">currentState</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><span class="lineno">   55</span>    {</div>
<div class="line"><span class="lineno">   56</span>        <a class="code hl_variable" href="#a23b9db8ba856509ed476ed1144247b83">currentState</a>-&gt;SystemFree(engineContext);</div>
<div class="line"><span class="lineno">   57</span>        <a class="code hl_variable" href="#a23b9db8ba856509ed476ed1144247b83">currentState</a>-&gt;SystemUnload(engineContext);</div>
<div class="line"><span class="lineno">   58</span>        <a class="code hl_variable" href="#a23b9db8ba856509ed476ed1144247b83">currentState</a>.reset();</div>
<div class="line"><span class="lineno">   59</span>    }</div>
<div class="line"><span class="lineno">   60</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aeb24049cbe185fe0faec5c771e34c2bb" name="aeb24049cbe185fe0faec5c771e34c2bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb24049cbe185fe0faec5c771e34c2bb">&#9670;&#160;</a></span>GetCurrentState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_game_state.html">GameState</a> * StateManager::GetCurrentState </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel nodiscard">nodiscard</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the currently active <a class="el" href="class_game_state.html" title="Abstract base class representing a game state in the engine.">GameState</a>. </p>
<p>If no state has been set yet, this function returns nullptr.</p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the current <a class="el" href="class_game_state.html" title="Abstract base class representing a game state in the engine.">GameState</a> or nullptr if none. <div class="fragment"><div class="line"><a class="code hl_class" href="class_game_state.html">GameState</a>* state = engineContext.stateManager-&gt;GetCurrentState();</div>
<div class="line"><span class="keywordflow">if</span> (state)</div>
<div class="line">    state-&gt;DoSomething();</div>
<div class="ttc" id="aclass_game_state_html"><div class="ttname"><a href="class_game_state.html">GameState</a></div><div class="ttdoc">Abstract base class representing a game state in the engine.</div><div class="ttdef"><b>Definition</b> <a href="_game_state_8h_source.html#l00040">GameState.h:41</a></div></div>
</div><!-- fragment --> </dd></dl>

<p class="definition">Definition at line <a class="el" href="_state_manager_8cpp_source.html#l00003">3</a> of file <a class="el" href="_state_manager_8cpp_source.html">StateManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">    4</span>{</div>
<div class="line"><span class="lineno">    5</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="#a23b9db8ba856509ed476ed1144247b83">currentState</a> ? <a class="code hl_variable" href="#a23b9db8ba856509ed476ed1144247b83">currentState</a>.get() : <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">    6</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab4ebd3189a4623e805d95f768b314acb" name="ab4ebd3189a4623e805d95f768b314acb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4ebd3189a4623e805d95f768b314acb">&#9670;&#160;</a></span>Update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void StateManager::Update </td>
          <td>(</td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>dt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_engine_context.html">EngineContext</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>engineContext</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates the currently active <a class="el" href="class_game_state.html" title="Abstract base class representing a game state in the engine.">GameState</a> and handles pending transitions. </p>
<ul>
<li>If a <span class="tt">nextState</span> exists, the current state is freed and unloaded, and the new state is loaded and initialized.</li>
<li>After transition, or if no transition is pending, the active state's <span class="tt">SystemUpdate</span> is called with the given delta time.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dt</td><td>Delta time since last frame in seconds. </td></tr>
    <tr><td class="paramname">engineContext</td><td>Reference to the engine context providing managers. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_state_manager_8cpp_source.html#l00013">13</a> of file <a class="el" href="_state_manager_8cpp_source.html">StateManager.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   14</span>{</div>
<div class="line"><span class="lineno">   15</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a598a8e8b997a38333b28dbbe9c87cfe6">nextState</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><span class="lineno">   16</span>    {</div>
<div class="line"><span class="lineno">   17</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a23b9db8ba856509ed476ed1144247b83">currentState</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><span class="lineno">   18</span>        {</div>
<div class="line"><span class="lineno">   19</span>            <a class="code hl_variable" href="#a23b9db8ba856509ed476ed1144247b83">currentState</a>-&gt;SystemFree(engineContext);</div>
<div class="line"><span class="lineno">   20</span>            <a class="code hl_variable" href="#a23b9db8ba856509ed476ed1144247b83">currentState</a>-&gt;SystemUnload(engineContext);</div>
<div class="line"><span class="lineno">   21</span>            engineContext.<a class="code hl_variable" href="struct_engine_context.html#aa5985216cfd74ab389769abc5a5fdfb6">soundManager</a>-&gt;<a class="code hl_function" href="class_sound_manager.html#ad78be412f57622826d4d7bf5f46378a8">ControlAll</a>(<a class="code hl_enumvalue" href="class_sound_manager.html#a3c4fde85dedc1019d025b016b60c81eda11a755d598c0c417f9a36758c3da7481">SoundManager::SoundControlType::Stop</a>);</div>
<div class="line"><span class="lineno">   22</span>        }</div>
<div class="line"><span class="lineno">   23</span>        <a class="code hl_variable" href="#a23b9db8ba856509ed476ed1144247b83">currentState</a> = std::move(<a class="code hl_variable" href="#a598a8e8b997a38333b28dbbe9c87cfe6">nextState</a>);</div>
<div class="line"><span class="lineno">   24</span>        <a class="code hl_variable" href="#a23b9db8ba856509ed476ed1144247b83">currentState</a>-&gt;SystemLoad(engineContext);</div>
<div class="line"><span class="lineno">   25</span>        <a class="code hl_variable" href="#a23b9db8ba856509ed476ed1144247b83">currentState</a>-&gt;SystemInit(engineContext);</div>
<div class="line"><span class="lineno">   26</span>        <a class="code hl_variable" href="#a23b9db8ba856509ed476ed1144247b83">currentState</a>-&gt;GetCameraManager().SetScreenSizeForAll(engineContext.<a class="code hl_variable" href="struct_engine_context.html#ab6fa006055c2a224931059f7ed840bed">windowManager</a>-&gt;<a class="code hl_function" href="class_window_manager.html#ad8e16ad88c8eb3e3889d5c3dbe7891cb">GetWidth</a>(), engineContext.<a class="code hl_variable" href="struct_engine_context.html#ab6fa006055c2a224931059f7ed840bed">windowManager</a>-&gt;<a class="code hl_function" href="class_window_manager.html#a50c9f12a67f69e822b4e70077773c9ca">GetHeight</a>());</div>
<div class="line"><span class="lineno">   27</span>    }</div>
<div class="line"><span class="lineno">   28</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a23b9db8ba856509ed476ed1144247b83">currentState</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><span class="lineno">   29</span>    {</div>
<div class="line"><span class="lineno">   30</span>        <a class="code hl_variable" href="#a23b9db8ba856509ed476ed1144247b83">currentState</a>-&gt;SystemUpdate(dt, engineContext);</div>
<div class="line"><span class="lineno">   31</span>    }</div>
<div class="line"><span class="lineno">   32</span>}</div>
<div class="ttc" id="aclass_sound_manager_html_a3c4fde85dedc1019d025b016b60c81eda11a755d598c0c417f9a36758c3da7481"><div class="ttname"><a href="class_sound_manager.html#a3c4fde85dedc1019d025b016b60c81eda11a755d598c0c417f9a36758c3da7481">SoundManager::SoundControlType::Stop</a></div><div class="ttdeci">@ Stop</div><div class="ttdef"><b>Definition</b> <a href="_sound_manager_8h_source.html#l00103">SoundManager.h:103</a></div></div>
<div class="ttc" id="aclass_sound_manager_html_ad78be412f57622826d4d7bf5f46378a8"><div class="ttname"><a href="class_sound_manager.html#ad78be412f57622826d4d7bf5f46378a8">SoundManager::ControlAll</a></div><div class="ttdeci">void ControlAll(SoundControlType control)</div><div class="ttdoc">Controls all currently playing sounds.</div><div class="ttdef"><b>Definition</b> <a href="_sound_manager_8cpp_source.html#l00315">SoundManager.cpp:315</a></div></div>
<div class="ttc" id="aclass_window_manager_html_a50c9f12a67f69e822b4e70077773c9ca"><div class="ttname"><a href="class_window_manager.html#a50c9f12a67f69e822b4e70077773c9ca">WindowManager::GetHeight</a></div><div class="ttdeci">int GetHeight() const</div><div class="ttdoc">Gets the current height of the window.</div><div class="ttdef"><b>Definition</b> <a href="_window_manager_8h_source.html#l00046">WindowManager.h:46</a></div></div>
<div class="ttc" id="aclass_window_manager_html_ad8e16ad88c8eb3e3889d5c3dbe7891cb"><div class="ttname"><a href="class_window_manager.html#ad8e16ad88c8eb3e3889d5c3dbe7891cb">WindowManager::GetWidth</a></div><div class="ttdeci">int GetWidth() const</div><div class="ttdoc">Gets the current width of the window.</div><div class="ttdef"><b>Definition</b> <a href="_window_manager_8h_source.html#l00039">WindowManager.h:39</a></div></div>
<div class="ttc" id="astruct_engine_context_html_aa5985216cfd74ab389769abc5a5fdfb6"><div class="ttname"><a href="struct_engine_context.html#aa5985216cfd74ab389769abc5a5fdfb6">EngineContext::soundManager</a></div><div class="ttdeci">SoundManager * soundManager</div><div class="ttdoc">Pointer to the sound manager for audio playback.</div><div class="ttdef"><b>Definition</b> <a href="_engine_context_8h_source.html#l00036">EngineContext.h:36</a></div></div>
<div class="ttc" id="astruct_engine_context_html_ab6fa006055c2a224931059f7ed840bed"><div class="ttname"><a href="struct_engine_context.html#ab6fa006055c2a224931059f7ed840bed">EngineContext::windowManager</a></div><div class="ttdeci">WindowManager * windowManager</div><div class="ttdoc">Pointer to the window and display manager.</div><div class="ttdef"><b>Definition</b> <a href="_engine_context_8h_source.html#l00033">EngineContext.h:33</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a name="doc-variable-members" id="doc-variable-members"></a><h2 id="header-doc-variable-members" class="groupheader">Member Data Documentation</h2>
<a id="a23b9db8ba856509ed476ed1144247b83" name="a23b9db8ba856509ed476ed1144247b83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23b9db8ba856509ed476ed1144247b83">&#9670;&#160;</a></span>currentState</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="class_game_state.html">GameState</a>&gt; StateManager::currentState</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Currently active game state. </p>

<p class="definition">Definition at line <a class="el" href="_state_manager_8h_source.html#l00101">101</a> of file <a class="el" href="_state_manager_8h_source.html">StateManager.h</a>.</p>

</div>
</div>
<a id="a598a8e8b997a38333b28dbbe9c87cfe6" name="a598a8e8b997a38333b28dbbe9c87cfe6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a598a8e8b997a38333b28dbbe9c87cfe6">&#9670;&#160;</a></span>nextState</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="class_game_state.html">GameState</a>&gt; StateManager::nextState</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>State scheduled to replace the current one. </p>

<p class="definition">Definition at line <a class="el" href="_state_manager_8h_source.html#l00102">102</a> of file <a class="el" href="_state_manager_8h_source.html">StateManager.h</a>.</p>

</div>
</div>
<a id="a2d51b51c9cf169dca9ae37291ad26a39" name="a2d51b51c9cf169dca9ae37291ad26a39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d51b51c9cf169dca9ae37291ad26a39">&#9670;&#160;</a></span>SNAKE_Engine</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend StateManager::SNAKE_Engine</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_state_manager_8h_source.html#l00025">25</a> of file <a class="el" href="_state_manager_8h_source.html">StateManager.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Project/SNAKE_Engine/Public/<a class="el" href="_state_manager_8h_source.html">StateManager.h</a></li>
<li>Project/SNAKE_Engine/Private/<a class="el" href="_state_manager_8cpp_source.html">StateManager.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="class_state_manager.html">StateManager</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
